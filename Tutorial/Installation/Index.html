<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
    <title>Installation â€” Store Finder 8.0.0 documentation</title>

    
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1.0" name="viewport">
<meta content="phpdocumentor/guides" name="generator">
<meta content="Store Finder" name="docsearch:name">
<meta content="" name="docsearch:package_type">
<meta content="8.0.0" name="docsearch:release">
<meta content="8.0.0" name="docsearch:version">
<meta content="2024-11-01T17:54:21+00:00" name="docsearch:modified">
<meta content="2024-11-01T17:54:21+00:00" name="dc.modified">
<meta content="2024-11-01T17:54:21+00:00" property="article:modified_time">
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.dc">
<link href="../../_resources/css/theme.css" rel="stylesheet">
<link href="https://docs.typo3.org/search/" rel="search" title="Search">
<script src="https://typo3.azureedge.net/typo3infrastructure/universe/dist/webcomponents-loader.js"></script>
<script src="https://typo3.azureedge.net/typo3infrastructure/universe/dist/typo3-universe.js" type="module"></script>
                        <link href="../Index.html" rel="prev" title="Tutorial"/>
            <link href="../CustomEventListener/Index.html" rel="next" title="Custom Event Listener"/>
            <link href="../../Index.html" rel="top" title="Store finder"/>
    </head>
<body>
<div class="page">
    
<header>
    <div class="page-topbar">
        <div class="page-topbar-inner">
            <typo3-universe active="documentation">
                <div style="display: block; height: 44px; background-color: #313131;"></div>
            </typo3-universe>
        </div>
    </div>
    <div class="page-header">
        <div class="page-header-inner">
            <div class="row">
                <div class="col-md-2 col-lg-4">
                    <a class="logo" href="https://docs.typo3.org/" title="TYPO3 Documentation">
                        <img alt="TYPO3 Logo" class="logo-image" src="../../_resources/img/typo3-logo.svg" width="484" height="130">
                    </a>
                </div>
                <div class="col-md-10 col-lg-8">
                    <div class="menu-search-wrapper">
                        <all-documentations-menu data-override-url="https://render-guides.ddev.site/menu-proxy.php"></all-documentations-menu>
                                                <search role="search">
                            <form action="https://docs.typo3.org/search/search" id="global-search-form" method="get">
                                <div class="sr-only"><label for="globalsearchinput">TYPO3 documentation...</label></div>
                                <div class="input-group mb-3 mt-sm-3">
                                    <select class="form-select search__scope" id="searchscope" name="scope">
                                        <option value="">Search all</option>
                                    </select>
                                    <input autocomplete="off" class="form-control shadow-none" id="globalsearchinput" name="q" placeholder="TYPO3 documentation..." type="text" value="">
                                    <button class="btn btn-light search__submit" type="submit"><i class="fa fa-search"></i>&nbsp;<span class="d-none d-md-inline">Search</span></button>
                                </div>
                            </form>
                        </search>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>    <main class="page-main">
        <div class="page-main-inner">
            <div class="page-main-navigation">
                <nav>
                    <input class="toc-checkbox" id="toggleToc" type="checkbox">

                    
<div class="toc-header">
    <div class="toc-title">
        <a class="toc-title-project" href="../../Index.html">Store Finder</a>
            <div class="toc-version-wrapper" id="toc-version-wrapper">
                <!--
                    LOCAL RENDERING NOTICE:
                    https://docs.typo3.org/other/t3docs/render-guides/main/en-us/Developer/AjaxVersions.html
                -->

                <div id="toc-version" class="toc-version" data-override-url-proxy="https://render-guides.ddev.site/versions-proxy.php?url=" data-override-url-self="https://docs.typo3.org/m/typo3/tutorial-getting-started/12.4/en-us/Concepts/Index.html">
                
                    <span class="toc-version-prefix">Release:</span>
                    <span class="toc-version-number">8.0.0</span>
                </div>
                <div id="toc-version-options" class="toc-version-options">
                    <p><span class="fa fa-spinner fa-spin"></span> Loading data.</p>
                </div>
            </div></div>
    <div class="toc-actions">
        <label class="toc-toggle" for="toggleToc">
            Menu
        </label>
    </div>
</div>                    <div class="toc-collapse">
                                                <div aria-label="main navigation" class="toc" role="navigation">
                                <div aria-label="Main navigation" class="main_menu" role="navigation">
            <ul class="menu-level-1">
    <li class="">
    <a href="../../Introduction/Index.html">
        Introduction
    </a></li>    <li class="">
    <a href="../../UserManual/Index.html">
        User Manual
    </a></li>    <li class="">
    <a href="../../Administration/Index.html">
        Administration
    </a></li>    <li class="">
    <a href="../../Configuration/Index.html">
        Configuration
    </a>        <ul class="menu-level-1"><li class="">
    <a href="../../Configuration/Settings/Index.html">
        Settings
    </a></li><li class="">
    <a href="../../Configuration/View/Index.html">
        View
    </a></li><li class="">
    <a href="../../Configuration/Persistence/Index.html">
        Persistence
    </a></li><li class="">
    <a href="../../Configuration/Validation/Index.html">
        Validation
    </a></li><li class="">
    <a href="../../Configuration/Geocoding/Index.html">
        Geocoding provider
    </a></li><li class="">
    <a href="../../Configuration/EventListener/Index.html">
        Event listener
    </a></li></ul></li>    <li class="">
    <a href="../../Templating/Index.html">
        Templating
    </a></li>    <li class=" active">
    <a href="../Index.html">
        Tutorial
    </a>        <ul class="menu-level-1"><li class=" current active">
    <a href="#" aria-current="page">
        Installation
    </a></li><li class="">
    <a href="../CustomEventListener/Index.html">
        Custom Event Listener
    </a></li><li class="">
    <a href="../HeadlessMap/Index.html">
        Headless Map Rendering
    </a></li></ul></li>    <li class="">
    <a href="../../ImportCommand/Index.html">
        Import command
    </a></li>    <li class="">
    <a href="../../Deprecation/Index.html">
        Deprecation
    </a></li>    <li class="">
    <a href="../../BreakingChanges/Index.html">
        Breaking Changes
    </a></li>    </ul>    <ul class="menu-level-1">
    <li class="">
    <a href="../../Sitemap.html">
        Sitemap
    </a></li>    </ul>
    </div>
    <div aria-label="Meta navigation" class="main_menu  d-block d-lg-none" role="navigation">
    <hr/>
    <p class="caption">Contributors Corner</p>
    <ul class="menu-level-1">            <li><a href="../../_sources/Tutorial/Installation/Index.rst.txt" rel="nofollow noopener" target="_blank">
                    View source of current document
            </a></li>
                    <li><a href="https://docs.typo3.org/m/typo3/docs-how-to-document/main/en-us/WritingDocsOfficial/GithubMethod.html" rel="nofollow noopener" target="_blank">
                    How to edit
            </a></li>
                    <li><a href="https://github.com/evoWeb/store_finder/edit/develop/Documentation/Tutorial/Installation/Index.rst" rel="nofollow noopener" target="_blank">
                    Edit current document on GitHub
            </a></li>
        </ul>
</div>
                        </div>
                    </div>
                </nav>
            </div>
            <div class="page-main-content">
                <div class="rst-content">                        <nav aria-label="breadcrumbs navigation" class="breadcrumb-bar" role="navigation">
        
<ol class="breadcrumb">
    <li class="breadcrumb-item"><a href="../../Index.html">Store finder</a></li>
        <li class="breadcrumb-item"><a href="../Index.html">Tutorial</a></li>
                    <li aria-current="page"  class="breadcrumb-item  active">Installation</li>
        </ol>
        <div class="breadcrumb-additions">        <a class="btn btn-sm btn-light" href="https://github.com/evoWeb/store_finder/issues/new/choose?title=Problem+on+https%3A%2F%2Fgithub.com%2FevoWeb%2Fstore_finder%2FTutorial%2FInstallation%2FIndex.html" id="btnReportIssue" rel="nofollow noopener" target="_blank">
            <span class="btn-icon"><i class="fas fa-bug"></i></span>
            <span class="btn-text">Report issue</span>
        </a>
        <a class="btn btn-sm btn-light" href="../../_sources/Tutorial/Installation/Index.rst.txt" rel="nofollow noopener" target="_blank">
        <span class="btn-icon"><span class="fas fa-code"></span></span>
        <span class="btn-text">View source</span>
    </a>
        <a class="btn btn-sm btn-light" href="https://docs.typo3.org/m/typo3/docs-how-to-document/main/en-us/WritingDocsOfficial/GithubMethod.html" id="btnHowToEdit" rel="nofollow noopener" target="_blank">
        <span class="btn-icon"><span class="fas fa-info-circle"></span></span>
        <span class="btn-text">How to edit</span>
    </a>
        <a class="btn btn-sm btn-secondary" href="https://github.com/evoWeb/store_finder/edit/develop/Documentation/Tutorial/Installation/Index.rst" id="btnEditOnGitHub" rel="nofollow noopener" target="_blank">
        <span class="btn-icon"><span class="fab fa-github"></span></span>
        <span class="btn-text">Edit on GitHub</span>
    </a>
    </div>    </nav>
                    
<article class="document" itemscope="itemscope" itemtype="http://schema.org/Article" role="main">
    <div itemprop="articleBody">
        <!-- content start -->
                
<section class="section" id="installation-1" data-rst-anchor="installation">
            <a id="installation"></a>
            <h1>Installation<a class="headerlink" href="#installation-1" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h1>
            <section class="section" id="installation">
            <h2>Installation<a class="headerlink" href="#installation" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h2>
            
    <p>To install the extension go to the &quot;Admin Tools&quot; section and select the &quot;Extension Manager&quot;. On the top
selectbox choose &quot;Manage Extensions&quot; and enter store_finder in the search field. Click add to install
the extensions.</p>

            
    <p>In case your organization have a api console key click the cog afterwards and enter the code in the
configuration field.</p>

            
    <p>In rare case that the api url changes and the extensions was not update quick enough you can change the
url used for the geocooding in the same configuration. Be aware that this url only gets used in the
geocoding process. For the search in the frontend you need to change it in TypoScript too.</p>

    </section>
            <section class="section" id="typoscript">
            <h2>TypoScript<a class="headerlink" href="#typoscript" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h2>
            
    <p>In general its a good idea to add the include static of the extension to you typoscript record. Otherwise
its not possible to use the country selector which is used in the default template.</p>

    </section>
            <section class="section" id="structure">
            <h2>Structure<a class="headerlink" href="#structure" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h2>
            
    <p>Location records can only be added in folders that&#039;s why you need to add at least one folder for storage.
Additionally you need a page with the store_finder plugin. In the plugin configure your needs. To use
locations of the created folder choose it as record storage page on tab behaviour.</p>

    </section>
            <section class="section" id="templating">
            <h2>Templating<a class="headerlink" href="#templating" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h2>
            
    <p>To change the frontend templates you most likely need to change the partials. These contain of search, map
and list part. Copy the folder from the extension to your local path like the fileadmin. To use these copies
you can change the path either in the plugin field &quot;Partial path&quot; or via TypoScript:</p>

                <div class="code-block-caption">
        <span class="caption-text">EXT:my_extension/Configuration/TypoScript/setup.typoscript</span>
    </div><div class="code-block-wrapper" translate="no">
            
    <pre class="code-block"><code class="hljs typoscript">plugin.tx_storefinder.view.partialRootPaths.<span class="hljs-title">50</span> = ./yourpath/Partials/</code></pre>
    <div class="code-block-actions">        <button class="code-block-copy" title="Copy to clipboard">
            <i class="icon fa-regular fa-copy code-block-copy-icon"></i>
            <i class="fa-solid fa-check code-block-check-icon code-block-hide"></i>
        </button>
        <span class="code-block-check-tooltip code-block-hide" aria-live="polite">Copied!</span>
    </div>
</div>
    </section>
            <section class="section" id="api-keys-and-map-id">
            <h2>API Keys and Map ID<a class="headerlink" href="#api-keys-and-map-id" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h2>
            
    <p>If you need to geocode coordinates, either on saving a store record or in bulk with the geocode console command
you need to add an additional key in TypoScript constants apiConsoleKeyGeocoding. This key will never be visible
to any visitors of your page.</p>

            
    <p>There are two keys needed because the key used in geocoding may not be restricted at all. But you also dont
want to deliver pages with an key that is not restricted to the domain in frontend rendering, because then it
would be possible that others use the key and by that causes you to pay for usage that wasn&#039;t by your page.</p>

            <dl>
                        <dt>So, it&#039;s advised to have both keys</dt>
        
        <dd>

<ul>
    <li class="dash">apiConsoleKey (protected by restriction for your domains)</li>
    <li class="dash">apiConsoleKeyGeocoding (unrestricted for the usage in php)</li>
</ul>
</dd>
            </dl>
            
    <p>To obtain a key please visit <a href="https://developers.google.com/maps/get-started">https://developers.google.com/maps/get-started</a></p>

            
    <p>In addition each map should have a unique ID. This can be created on this page
<a href="https://developers.google.com/maps/documentation/get-map-id?hl=de#create-a-map-id">https://developers.google.com/maps/documentation/get-map-id?hl=de#create-a-map-id</a>.</p>

    </section>
            <section class="section" id="key-for-the-frontend">
            <h2>Key for the frontend<a class="headerlink" href="#key-for-the-frontend" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h2>
            <figure>
    <img
    src="Images/frontend_key.png"
    width="711px"            alt="Search form"        />


            
            </figure>
    </section>
            <section class="section" id="key-for-the-geocoding">
            <h2>Key for the geocoding<a class="headerlink" href="#key-for-the-geocoding" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h2>
            <figure>
    <img
    src="Images/geocoding_key.png"
    width="711px"            alt="Result map and list"        />


            
            </figure>
    </section>
            <section class="section" id="set-default-coordinates">
            <h2>Set default coordinates<a class="headerlink" href="#set-default-coordinates" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h2>
            
    <p>In TypoScript setup it&#039;s possible to set defaultConstraints these are filled in
the constraints object if no search was requested. In the example below the
zoom, latitude and longitude values are set and then the coordinates are used
to render search results that are near of them.</p>

                <div class="code-block-caption">
        <span class="caption-text">EXT:my_extension/Configuration/TypoScript/setup.typoscript:</span>
    </div><div class="code-block-wrapper" translate="no">
            
    <pre class="code-block"><code class="hljs typoscript">plugin.tx_storefinder.settings {
   showLocationsForDefaultConstraint = 1
   defaultConstraint {
      zoom = 15
      latitude = <span class="hljs-title">51</span>.5135
      longitude = <span class="hljs-title">7</span>.464
   }
}</code></pre>
    <div class="code-block-actions">        <button class="code-block-copy" title="Copy to clipboard">
            <i class="icon fa-regular fa-copy code-block-copy-icon"></i>
            <i class="fa-solid fa-check code-block-check-icon code-block-hide"></i>
        </button>
        <span class="code-block-check-tooltip code-block-hide" aria-live="polite">Copied!</span>
    </div>
</div>
    </section>
            <section class="section" id="use-caching-map-action">
            <h2>Use caching map action<a class="headerlink" href="#use-caching-map-action" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h2>
            
    <p>As of version 6.1.0 a cached map action is available. To use it with custom
templates it important to copy the <code>Templates/Map/CachedMap.html</code> to your sitepackage.</p>

            
    <p>In addition to that it&#039;s important to add the <code>&lt;sf:cache location=&quot;{location}&quot;/&gt;</code> ViewHelper to the
<code>Partials/Locations.html</code> to be able to clear cache on adding a location record without manually click
the clear cache flash.</p>

    </section>
    </section>
        <!-- content end -->
    </div>
</article>
                        
            <nav aria-label="Page navigation">
            <ul class="pagination justify-content-center"><li class="page-item">
                            <a class="page-link" href="../Index.html"
                               title="Accesskey Alt(+Shift)+p">
                                Previous
                            </a>
                        </li>
                    <li class="page-item">
                            <a class="page-link" href="../CustomEventListener/Index.html"
                               title="Accesskey Alt(+Shift)+n">
                                Next
                            </a>
                        </li>
                    </ul>
        </nav>
                    </div>
            </div>
        </div>
    </main>

    <div class="modal fade" id="linkReferenceModal" tabindex="-1" aria-labelledby="linkReferenceModalLabel"
    aria-hidden="true" data-current-filename="Tutorial/Installation/Index" data-interlink-shortcode="evoweb/store-finder">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="linkReferenceModalLabel">Reference to the headline</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="alert alert-success d-none" id="permalink-alert-success" role="alert"></div>
                <div class="mb-3">
                    <label for="permalink-uri" class="col-form-label">Permalink</label>
                    <div class="input-group">
                        <input class="form-control code" id="permalink-uri" readonly>
                        <button type="button" class="btn btn-outline-secondary copy-button" data-target="permalink-uri"><i class="far fa-clone"></i></button>
                    </div>
                    <p>Copy and freely share the link</p>
                </div>
                <div class="mb-3">
                    <div class="alert alert-warning alert-permalink-rst" role="alert">This link target has no permanent anchor assigned.                        You can make a <a href="https://github.com/evoWeb/store_finder/edit/develop/Documentation/Tutorial/Installation/Index.rst">pull request on GitHub</a> to suggest an anchor.
                        The link below can be used, but is prone to change if the page gets moved.
                    </div>
                    <label for="permalink-rst" class="col-form-label">reStructuredText (reST):</label>
                    <div class="input-group">
                        <textarea class="form-control code" id="permalink-rst" readonly></textarea>
                        <button type="button" class="btn btn-outline-secondary copy-button" data-target="permalink-rst"><i class="far fa-clone"></i></button>
                    </div>
                    <p>Copy this link into your TYPO3 manual. </p>
                </div>
                <div class="mb-3">
                    <label for="permalink-html" class="col-form-label">HTML:</label>
                    <div class="input-group">
                        <textarea class="form-control code" id="permalink-html" readonly></textarea>
                        <button type="button" class="btn btn-outline-secondary copy-button" data-target="permalink-html"><i class="far fa-clone"></i></button>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>    <div class="modal fade" id="generalModal" tabindex="-1" aria-labelledby="linkReferenceModalLabel"
    aria-hidden="true" data-current-filename="Tutorial/Installation/Index"
>
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="generalModalLabel"></h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="alert alert-success d-none" id="general-alert-success" role="alert"></div>
                <div id="generalModalContent">
                </div>
            </div>
            <div class="modal-footer justify-content-between">
                <div id="generalModalCustomButtons"></div>
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"><i class="fa-regular fa-circle-xmark"></i>&nbsp;Close</button>
            </div>
        </div>
    </div>
</div></div>


<footer class="page-footer">
    <div class="frame frame-ruler-before frame-background-dark">
        <div class="frame-container">
            <div class="frame-inner">
                <ul class="footer-simplemenu">
                        <li><a href="https://github.com/evoWeb/store_finder" title="Home" rel="nofollow noopener"><span>Home</span></a></li>
                                                <li><a href="store-finder@evoweb.de" title="Contact" rel="nofollow noopener"><span>Contact</span></a></li>
                                                <li><a href="https://github.com/evoWeb/store_finder/issues" rel="nofollow noopener" title="Issues"><span>Issues</span></a></li>
                                                <li><a href="https://github.com/evoWeb/store_finder" rel="nofollow noopener" title="Repository"><span>Repository</span></a></li>
                                            </ul>                <div class="footer-additional">
                    <p class="text-center">Last rendered: Nov 01, 2024 17:54</p>
                </div>
                <div class="footer-meta">
                                        <div class="footer-meta-copyright">
                        &copy; since 2013 by evoWeb
                    </div>
                    <ul class="footer-meta-navigation">
                        <li><a href="https://typo3.org/legal-notice" rel="nofollow" target="_blank" title="Legal Notice">Legal Notice</a></li>
                        <li><a href="https://typo3.org/privacy-policy" rel="nofollow" target="_blank" title="Privacy Policy">Privacy Policy</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</footer>
<script src="../../_resources/js/popper.min.js"></script>
<script src="../../_resources/js/bootstrap.min.js"></script>
<script src="../../_resources/js/theme.min.js"></script>

<!--
 Locally rendered. No tracking embedded.
-->
</body>
</html>